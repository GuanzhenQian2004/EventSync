{% extends "base.html" %}
{% block title %}{{ event.event_name }} · EventSync{% endblock %}
{% block content %}
  <h1>{{ event.event_name }}</h1>
  <p class="muted">{{ event.org_name }}</p>

  <p>
    <strong>Date:</strong>
    {{ event.date }}
    <br>
    <strong>Time:</strong>
    {{ event.start_time }} – {{ event.end_time }}
  </p>

  <p>
    <strong>Location:</strong><br>
    {{ event.street }}<br>
    {{ event.city }}, {{ event.state }} {{ event.zip }}
    {% if event.room_number %}
      <br>Room {{ event.room_number }}
    {% endif %}
  </p>

  <p>
    <strong>Price:</strong>
    {% if event.price == 0 %}
      Free
    {% else %}
      ${{ '%.2f'|format(event.price) }}
    {% endif %}
  </p>

  {% if event.description %}
    <h3>Description</h3>
    <p>{{ event.description }}</p>
  {% endif %}

  {% if event.creator_name or event.created_by %}
    <p class="muted">
      Created by
      {% if event.creator_name %}
        {{ event.creator_name }}
      {% else %}
        {{ event.created_by }}
      {% endif %}
    </p>
  {% endif %}

  <h3>Location Map</h3>
  {% set address = event.street ~ ', ' ~ event.city ~ ', ' ~ event.state ~ ' ' ~ event.zip %}
  <div style="margin-top:10px;">
    <iframe
      width="100%"
      height="320"
      style="border:0; border-radius:8px;"
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"
      src="https://www.google.com/maps?q={{ address|urlencode }}&output=embed">
    </iframe>
  </div>

  <p style="margin-top:16px;">
    <a class="btn" href="{{ url_for('home') }}">Back to all events</a>
  </p>
{% endblock %}

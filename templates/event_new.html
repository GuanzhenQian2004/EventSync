{% extends "base.html" %}
{% block title %}New Event Â· EventSync{% endblock %}
{% block content %}
  <h1>Create a New Event</h1>

  {% if err %}
    <p class="error">Error loading form options: {{ err }}</p>
  {% endif %}

  <form method="post" class="form">
    <label>Event Name*</label>
    <input name="event_name" required>

    <label>Organization*</label>
    <select name="org_name" required>
      <option value="" disabled selected>Select an organization</option>
      {% for o in orgs %}
        <option value="{{ o }}">{{ o }}</option>
      {% endfor %}
    </select>

    <label>Venue*</label>
    <select name="vid" required>
      <option value="" disabled selected>Select a venue</option>
      {% for vid, vlabel in venues %}
        <option value="{{ vid }}">{{ vlabel }}</option>
      {% endfor %}
    </select>

    <label>Room # (optional)</label>
    <input name="room_number" type="number" min="0" step="1">

    <label>Date* (YYYY-MM-DD)</label>
    <input name="date" type="date" required>

    <label>Start Time* (HH:MM)</label>
    <input name="start_time" type="time" required>

    <label>End Time* (HH:MM)</label>
    <input name="end_time" type="time" required>

    <label>Price (0 = free)</label>
    <input name="price" type="number" min="0" step="0.01" value="0">

    <label>Description</label>
    <textarea name="description" rows="4" placeholder="Add details..."></textarea>

    <button type="submit">Create Event</button>
  </form>

  <p style="margin-top:12px;"><a class="btn" href="{{ url_for('home') }}">Back</a></p>
{% endblock %}

{% extends "base.html" %}
{% block title %}New Event Â· EventSync{% endblock %}
{% block content %}
  <h1>Edit Your Event</h1>

  {% if err %}
    <p class="error">Error loading form options: {{ err }}</p>
  {% endif %}

  <form method="post" class="form">

    <label>Event Name*</label>
    <input name="event_name" type="text" required value="{{event.event_name}}">

    <label>Organization*</label>
    <select name="org_name" required>
      {% for o in organizations %}
        <option value="{{ o }}" {% if o == event.org_name %}selected{% endif %}>{{ o }}</option>
      {% endfor %}
    </select>

    <label>Venue*</label>
    <select name="vid" required>
      {% for vid, vlabel in venues %}
        <option value="{{ vid }}" {% if vid == event.vid %}selected{% endif %}>{{ vlabel }}</option>
      {% endfor %}
    </select>

    <label>Room # (optional)</label>
    <input name="room_number" type="number" min="0" step="1" value="{{event.room_number}}">

    <label>Date* (YYYY-MM-DD)</label>
    <input name="date" type="date" required value="{{event.date}}">

    <label>Start Time* (HH:MM)</label>
    <input name="start_time" type="time" required value="{{event.start_time}}">

    <label>End Time* (HH:MM)</label>
    <input name="end_time" type="time" required value="{{event.end_time}}">

    <label>Price (0 = free)</label>
    <input name="price" type="number" min="0" step="0.01" value="{{event.price}}">

    <label>Description</label>
    <textarea name="description" rows="4" placeholder="Add details...">{{event.description}}</textarea>

    <button type="submit">Update Event</button>
  </form>

  <p style="margin-top:12px;">
    <a class="btn" href="{{ url_for('home') }}">Back</a>
  </p>

{% endblock %}
